var app = (function App() {
	var sock = new WebSocket("ws://localhost:3000");
	var sendMessageBtn = document.querySelector("#reply__send");
	var username = "张三";
	sendMessageBtn?.addEventListener("click", () => {
		sendMessage();
	});
	sock.addEventListener("message", (event) => {
		console.log("Message from server", event.data);
		var data = JSON.parse(event.data);
		if (data.username === username) {
			addMyMessage(data);
		} else {
			addMessage(data);
		}
	});

	var publicAPI = { addMessage };

	var btn = document.querySelector("button#reply");
	btn?.addEventListener("click", sendMessage);

	function sendMessage() {
		var message = document.querySelector("#reply__content").value;
		var data = {
			username: username,
			message: message,
		};
		sock.send(JSON.stringify(data));
	}
	function addMessage(data) {
		var chatList = document.querySelector("#chat-list");
		var content = data.message;

		var message = `<div class="message">
					<div class="message__user-info">
						<img
							src="data:image/jpeg;base64,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"
							alt=""
							class="avatar message__avatar"
						/>
					</div>
					<div class="message__content">
						${content}
					</div>
				</div>`;
		appendHtml(chatList, message);
		chatList?.scrollTo(0, chatList.scrollHeight);
	}
	function addMyMessage(data) {
		var chatList = document.querySelector("#chat-list");
		var content = data.message;

		var message = `<div class="message message--me">
					<div class="message__user-info">
						<img
							src="data:image/jpeg;base64,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"
							alt=""
							class="avatar message__avatar"
						/>
					</div>
					<div class="message__content">
						${content}
					</div>
				</div>`;
		appendHtml(chatList, message);
		chatList?.scrollTo(0, chatList.scrollHeight);
	}
	function appendHtml(el, str) {
		var div = document.createElement("div");
		div.innerHTML = str;
		while (div.children.length > 0) {
			el.appendChild(div.children[0]);
		}
	}
	return publicAPI;
})();

// console.log(app.getCurrentUser());
